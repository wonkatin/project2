router.delete('/:id', async(req, res) => {
    try {
        const review = await db.review.findByPk(req.params.id)
        const recipe = await review.getRecipe()
        let recipeUsers = []
        let newRecipeReviews = []
        const recipeReviews = await recipe.getReviews({include: db.user})
        recipeUsers = await recipe.getReviews({include: db.user})
        // console.log(recipeReviews)
        // console.log(`🔥 🔥 🔥  ${recipeReviews}`)  
        // console.log(`😇 😇 😇   ${recipe}`)   
        // console.log(`🍓 🍓 🍓   ${review}`) 
        //hold the reviews I need to keep in an array like hug
        recipeReviews.forEach(recipeReview => {
            if (recipeReview.id !== review.id) {
                // console.log(recipeReview)
                // console.log(review)
                newRecipeReviews.push(recipeReview)
            }
        })
        await review.destroy()
        res.render('recipes/detail', { 
            recipe: recipe, 
            reviews: newRecipeReviews,
            users: recipeUsers 
         })
    } catch (error) {
        console.log(error)
    }
})